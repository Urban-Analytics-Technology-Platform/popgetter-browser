import{e as A,H,d as E,g as b,i as O,b as q,j as g,k as I,l as M,m as k,n as P,h as m,o as Y,P as j}from"./disclose-version.B09q5NK9.js";import{b as B,q as C,d as V,i as W,h as $,c as z,e as F,f as G,p as J,g as K,a as Q,j as U}from"./runtime.AiB-EpK9.js";const N=new Set,T=new Set;function X(e,r,t,o){function n(a){if(o.capture||y.call(r,a),!a.cancelBubble)return t.call(this,a)}return e.startsWith("pointer")||e==="wheel"?C(()=>{r.addEventListener(e,n,o)}):r.addEventListener(e,n,o),n}function er(e,r,t,o,n){var a={capture:o,passive:n},d=X(e,r,t,a);(r===document.body||r===window||r===document)&&B(()=>{r.removeEventListener(e,d,a)})}function ar(e){for(var r=0;r<e.length;r++)N.add(e[r]);for(var t of T)t(e)}function y(e){var D;var r=this,t=r.ownerDocument,o=e.type,n=((D=e.composedPath)==null?void 0:D.call(e))||[],a=n[0]||e.target,d=0,c=e.__root;if(c){var f=n.indexOf(c);if(f!==-1&&(r===document||r===window)){e.__root=r;return}var l=n.indexOf(r);if(l===-1)return;f<=l&&(d=f)}if(a=n[d]||e.target,a!==r){V(e,"currentTarget",{configurable:!0,get(){return a||t}});try{for(var _,s=[];a!==null;){var u=a.parentNode||a.host||null;try{var i=a["__"+o];if(i!==void 0&&!a.disabled)if(W(i)){var[p,...v]=i;p.apply(a,[e,...v])}else i.call(a,e)}catch(w){_?s.push(w):_=w}if(e.cancelBubble||u===r||u===null)break;a=u}if(_){for(let w of s)queueMicrotask(()=>{throw w});throw _}}finally{e.__root=r,a=r}}}let L=!0;function tr(e){L=e}function nr(e,r){(e.__t??(e.__t=e.nodeValue))!==r&&(e.nodeValue=e.__t=r)}function Z(e,r){const t=r.anchor??r.target.appendChild(A());return S(e,{...r,anchor:t})}function sr(e,r){r.intro=r.intro??!1;const t=r.target,o=m,n=g;try{for(var a=t.firstChild;a&&(a.nodeType!==8||a.data!==H);)a=a.nextSibling;if(!a)throw E;b(!0),O(a),q();const d=S(e,{...r,anchor:a});if(g===null||g.nodeType!==8||g.data!==I)throw M(),E;return b(!1),d}catch(d){if(d===E)return r.recover===!1&&$(),k(),P(t),b(!1),Z(e,r);throw d}finally{b(o),O(n)}}const h=new Map;function S(e,{target:r,anchor:t,props:o={},events:n,context:a,intro:d=!0}){k();var c=new Set,f=s=>{for(var u=0;u<s.length;u++){var i=s[u];if(!c.has(i)){c.add(i);var p=j.includes(i);r.addEventListener(i,y,{passive:p});var v=h.get(i);v===void 0?(document.addEventListener(i,y,{passive:p}),h.set(i,1)):h.set(i,v+1)}}};f(z(N)),T.add(f);var l=void 0,_=F(()=>(G(()=>{if(a){J({});var s=U;s.c=a}n&&(o.$$events=n),m&&Y(t,null),L=d,l=e(t,o)||{},L=!0,m&&(K.nodes.end=g),a&&Q()}),()=>{for(var s of c){r.removeEventListener(s,y);var u=h.get(s);--u===0?(document.removeEventListener(s,y),h.delete(s)):h.set(s,u)}T.delete(f),R.delete(l)}));return R.set(l,_),l}let R=new WeakMap;function ir(e){const r=R.get(e);r==null||r()}export{tr as a,L as b,X as c,ar as d,er as e,sr as h,Z as m,nr as s,ir as u};
